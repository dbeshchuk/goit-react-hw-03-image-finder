{"version":3,"sources":["components/Modal/Modal.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","services/searchApi.js","App.js","reportWebVitals.js","index.js"],"names":["Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","className","onClick","src","image","alt","Component","Button","ImageGalleryItem","webformatURL","largeImageURL","PureComponent","ImageGallery","images","map","shortid","generate","Searchbar","onSubmit","value","onChange","type","name","autoComplete","autoFocus","placeholder","searchApi","searchQuery","searchPage","axios","get","then","response","data","hits","length","Promise","reject","Error","App","state","isLoaderOn","isModalOpen","modalImage","searchSubmit","a","preventDefault","setState","catch","error","toast","message","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","loadMoreBtn","prevState","inputChange","openModal","nodeName","dataset","toggleModal","closeModal","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","newestOnTop","rtl","pauseOnFocusLoss","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5b66e0ae.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    image: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={this.props.image} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onClick }) => (\n  <button className=\"Button\" onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\n\n\nclass ImageGalleryItem extends PureComponent {\n  static propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired\n  };\n\n  render() {\n    return (\n      <li className=\"ImageGalleryItem\">\n        <img\n          src={this.props.webformatURL}\n          alt=\"\"\n          data-image={this.props.largeImageURL}\n          className=\"ImageGalleryItem-image\"\n        />\n      </li>   \n    )\n  }\n}\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport shortid from \"shortid\";\n\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\"\n\nconst ImageGallery = ({  images, onClick }) => (\n  <ul className=\"ImageGallery\" onClick={onClick}>\n    {images.map(({ webformatURL, largeImageURL }) => (\n      <ImageGalleryItem webformatURL={webformatURL} largeImageURL={largeImageURL} key={shortid.generate()} />\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.object).isRequired\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Searchbar = ({ onSubmit, value, onChange }) => (\n  <header className=\"Searchbar\">\n    <form className=\"SearchForm\" onSubmit={onSubmit}>\n      <button type=\"submit\" className=\"SearchForm-button\">\n        <span className=\"SearchForm-button-label\">Search</span>\n      </button>\n\n      <input\n        className=\"SearchForm-input\"\n        name=\"searchInput\"\n        value={value}\n        onChange={onChange}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search images and photos\"\n      />\n    </form>\n  </header>\n);\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  value: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"21932135-4f5d77beca28a3dee23c5711e\";\n\nexport default function searchApi(searchQuery, searchPage) {\n  return axios\n    .get(\n      `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${searchPage}&per_page=12&key=${API_KEY}`\n    )\n    .then((response) => {\n      if (response.data.hits.length > 0) {\n        return response.data.hits;\n      }\n\n      return Promise.reject(new Error(\"No match found\"));\n    });\n  }","import React, { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport \"./App.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport Modal from \"./components/Modal/Modal\";\nimport Button from \"./components/Button/Button\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport searchApi from \"./services/searchApi\"\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: \"\",\n    searchPage: 1,\n    isLoaderOn: false,\n    isModalOpen: false,\n    modalImage: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.images !== prevState.images) {\n      if (this.state.images.length > 12) {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      }\n    }\n  }\n\n  searchSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!this.state.searchQuery) {\n      return;\n    }\n\n    this.setState({ isLoaderOn: true });\n    await searchApi(this.state.searchQuery, this.state.searchPage)\n      .then((data) => {\n        this.setState({ images: data, searchPage: 1 });\n      })\n      .catch((error) => {\n        toast.error(`${error.message}`, {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        });\n      });\n\n    this.setState({ isLoaderOn: false });\n  };\n\n  loadMoreBtn = async () => {\n    await this.setState((prevState) => ({\n      searchPage: prevState.searchPage + 1,\n    }));\n\n    this.setState({ isLoaderOn: true });\n\n    await searchApi(this.state.searchQuery, this.state.searchPage).then((data) =>\n      this.setState((prevState) => ({\n        images: [...prevState.images, ...data],\n      }))\n    );\n\n    this.setState({ isLoaderOn: false });\n  };\n\n  inputChange = ({ target }) => {\n    const { value } = target;\n\n    this.setState({ searchQuery: value });\n  };\n\n  openModal = async ({ target }) => {\n    if (target.nodeName !== \"IMG\") {\n      return;\n    }\n\n    await this.setState({ modalImage: target.dataset.image });\n    this.toggleModal();\n  };\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  toggleModal = () => {\n    this.setState((prevState) => ({ isModalOpen: !prevState.isModalOpen }));\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar\n          onSubmit={this.searchSubmit}\n          value={this.searchQuery}\n          onChange={this.inputChange}\n        />\n\n        <ImageGallery onClick={this.openModal} images={this.state.images} />\n\n        {this.state.isLoaderOn && (\n          <Loader type=\"Oval\" color=\"#3f51b5\" height={40} width={40} />\n        )}\n\n        {this.state.images.length > 0 && !this.state.isLoaderOn && (\n          <Button onClick={this.loadMoreBtn} />\n        )}\n\n        {this.state.isModalOpen && (\n          <Modal image={this.state.modalImage} onClose={this.closeModal}>\n            <img src={this.props.image} alt=\"Modal IMG\" />\n          </Modal>\n        )}\n\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={5000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}