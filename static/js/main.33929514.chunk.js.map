{"version":3,"sources":["components/Modal.js","components/Button.js","components/ImageGallery.js","components/ImageGalleryItem.js","components/Searchbar.js","App.js","reportWebVitals.js","index.js"],"names":["Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","className","onClick","src","image","alt","Component","Button","ImageGallery","children","ImageGalleryItem","images","map","webformatURL","largeImageURL","shortid","generate","Searchbar","onSubmit","value","onChange","type","name","autoComplete","autoFocus","placeholder","App","state","searchQuery","searchPage","isLoaderOn","isModalOpen","modalImage","searchSubmit","a","preventDefault","setState","searchApi","then","data","catch","error","toast","message","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","loadMoreBtn","prevState","inputChange","openModal","nodeName","dataset","toggleModal","closeModal","prevProps","length","scrollTo","top","document","documentElement","scrollHeight","behavior","axios","get","response","hits","Promise","reject","Error","color","height","width","newestOnTop","rtl","pauseOnFocusLoss","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"sXAGqBA,E,4MAcnBC,cAAgB,SAACC,GACA,WAAXA,EAAEC,MACJ,EAAKC,MAAMC,W,EAIfC,oBAAsB,SAACJ,GACjBA,EAAEK,gBAAkBL,EAAEM,QACxB,EAAKJ,MAAMC,W,uDAhBf,WACEI,OAAOC,iBAAiB,UAAWC,KAAKV,iB,kCAG1C,WACEQ,OAAOG,oBAAoB,UAAWD,KAAKV,iB,oBAe7C,WACE,OACE,qBAAKY,UAAU,UAAUC,QAASH,KAAKL,oBAAvC,SACE,qBAAKO,UAAU,QAAf,SACE,qBAAKE,IAAKJ,KAAKP,MAAMY,MAAOC,IAAI,a,GA9BPC,aCUpBC,EAVA,SAAC,GAAD,IAAGL,EAAH,EAAGA,QAAH,OACb,wBAAQD,UAAU,SAASC,QAASA,EAApC,wBCSaM,EAVM,SAAC,GAAD,IAAGN,EAAH,EAAGA,QAASO,EAAZ,EAAYA,SAAZ,OACnB,oBAAIR,UAAU,eAAeC,QAASA,EAAtC,SACGO,K,iBCeUC,EAhBU,SAAC,GAAD,SAAGC,OACnBC,KAAI,gBAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,cAAjB,OACT,oBAAIb,UAAU,mBAAd,SACE,qBACEE,IAAKU,EACLR,IAAI,GACJ,aAAYS,EACZb,UAAU,4BALwBc,IAAQC,gBCwBnCC,EA3BG,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,MAAOC,EAApB,EAAoBA,SAApB,OAChB,wBAAQnB,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaiB,SAAUA,EAAvC,UACE,wBAAQG,KAAK,SAASpB,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVqB,KAAK,cACLH,MAAOA,EACPC,SAAUA,EACVC,KAAK,OACLE,aAAa,MACbC,WAAS,EACTC,YAAY,mCC+ILC,E,4MA/IbC,MAAQ,CACNhB,OAAQ,GACRiB,YAAa,GACbC,WAAY,EACZC,YAAY,EACZC,aAAa,EACbC,WAAY,I,EAcdC,a,uCAAe,WAAO3C,GAAP,SAAA4C,EAAA,yDACb5C,EAAE6C,iBAEG,EAAKR,MAAMC,YAHH,wDAOb,EAAKQ,SAAS,CAAEN,YAAY,IAPf,SAQP,EAAKO,YACRC,MAAK,SAACC,GACL,EAAKH,SAAS,CAAEzB,OAAQ4B,EAAMV,WAAY,OAE3CW,OAAM,SAACC,GACNC,IAAMD,MAAN,UAAeA,EAAME,SAAW,CAC9BC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,OApBH,OAwBb,EAAKf,SAAS,CAAEN,YAAY,IAxBf,2C,wDA2BfsB,Y,sBAAc,sBAAAlB,EAAA,sEACN,EAAKE,UAAS,SAACiB,GAAD,MAAgB,CAClCxB,WAAYwB,EAAUxB,WAAa,MAFzB,cAKZ,EAAKO,SAAS,CAAEN,YAAY,IALhB,SAON,EAAKO,YAAYC,MAAK,SAACC,GAAD,OAC1B,EAAKH,UAAS,SAACiB,GAAD,MAAgB,CAC5B1C,OAAO,GAAD,mBAAM0C,EAAU1C,QAAhB,YAA2B4B,WATzB,OAaZ,EAAKH,SAAS,CAAEN,YAAY,IAbhB,2C,EA8BdwB,YAAc,YAAiB,IACrBnC,EADoB,EAAbvB,OACPuB,MAER,EAAKiB,SAAS,CAAER,YAAaT,K,EAG/BoC,U,uCAAY,6BAAArB,EAAA,yDACc,SADLtC,EAAT,EAASA,QACR4D,SADD,iEAKJ,EAAKpB,SAAS,CAAEJ,WAAYpC,EAAO6D,QAAQrD,QALvC,OAMV,EAAKsD,cANK,2C,wDASZC,WAAa,WACX,EAAKvB,SAAS,CAAEL,aAAa,K,EAG/B2B,YAAc,WACZ,EAAKtB,UAAS,SAACiB,GAAD,MAAgB,CAAEtB,aAAcsB,EAAUtB,iB,wDAxF1D,SAAmB6B,EAAWP,GACxBtD,KAAK4B,MAAMhB,SAAW0C,EAAU1C,QAC9BZ,KAAK4B,MAAMhB,OAAOkD,OAAS,IAC7BhE,OAAOiE,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,a,uBAiDlB,WACE,OAAOC,IACJC,IADI,UApEM,2BAoEN,sDAEsDtE,KAAK4B,MAAMC,YAFjE,iBAEqF7B,KAAK4B,MAAME,WAFhG,4BAnEK,uCAuETS,MAAK,SAACgC,GACL,OAAIA,EAAS/B,KAAKgC,KAAKV,OAAS,EACvBS,EAAS/B,KAAKgC,KAGhBC,QAAQC,OAAO,IAAIC,MAAM,wB,oBA2BtC,WACE,OACE,sBAAKzE,UAAU,MAAf,UACE,cAAC,EAAD,CACEiB,SAAUnB,KAAKkC,aACfd,MAAOpB,KAAK6B,YACZR,SAAUrB,KAAKuD,cAGjB,cAAC,EAAD,CAAcpD,QAASH,KAAKwD,UAA5B,SACE,cAAC,EAAD,CAAkB5C,OAAQZ,KAAK4B,MAAMhB,WAGtCZ,KAAK4B,MAAMG,YACV,cAAC,IAAD,CAAQT,KAAK,OAAOsD,MAAM,UAAUC,OAAQ,GAAIC,MAAO,KAGxD9E,KAAK4B,MAAMhB,OAAOkD,OAAS,IAAM9D,KAAK4B,MAAMG,YAC3C,cAAC,EAAD,CAAQ5B,QAASH,KAAKqD,cAGvBrD,KAAK4B,MAAMI,aACV,cAAC,EAAD,CAAO3B,MAAOL,KAAK4B,MAAMK,WAAYvC,QAASM,KAAK4D,WAAnD,SACE,qBAAKxD,IAAKJ,KAAKP,MAAMY,MAAOC,IAAI,gBAIpC,cAAC,IAAD,CACEuC,SAAS,YACTC,UAAW,IACXC,iBAAiB,EACjBgC,aAAa,EACb/B,cAAY,EACZgC,KAAK,EACLC,kBAAgB,EAChB/B,WAAS,EACTD,cAAY,W,GAzIJ1C,aCLH2E,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqB7C,MAAK,YAAkD,IAA/C8C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF3B,SAAS4B,eAAe,SAM1BX,M","file":"static/js/main.33929514.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    image: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={this.props.image} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onClick }) => (\n  <button className=\"Button\" onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGallery = ({ onClick, children }) => (\n  <ul className=\"ImageGallery\" onClick={onClick}>\n    {children}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport shortid from \"shortid\";\n\nconst ImageGalleryItem = ({ images }) =>\n  images.map(({ webformatURL, largeImageURL }) => (\n    <li className=\"ImageGalleryItem\" key={shortid.generate()}>\n      <img\n        src={webformatURL}\n        alt=\"\"\n        data-image={largeImageURL}\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  ));\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Searchbar = ({ onSubmit, value, onChange }) => (\n  <header className=\"Searchbar\">\n    <form className=\"SearchForm\" onSubmit={onSubmit}>\n      <button type=\"submit\" className=\"SearchForm-button\">\n        <span className=\"SearchForm-button-label\">Search</span>\n      </button>\n\n      <input\n        className=\"SearchForm-input\"\n        name=\"searchInput\"\n        value={value}\n        onChange={onChange}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search images and photos\"\n      />\n    </form>\n  </header>\n);\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  value: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport \"./App.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport Modal from \"./components/Modal\";\nimport Button from \"./components/Button\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport ImageGalleryItem from \"./components/ImageGalleryItem\";\nimport Searchbar from \"./components/Searchbar\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"21932135-4f5d77beca28a3dee23c5711e\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: \"\",\n    searchPage: 1,\n    isLoaderOn: false,\n    isModalOpen: false,\n    modalImage: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.images !== prevState.images) {\n      if (this.state.images.length > 12) {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      }\n    }\n  }\n\n  searchSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!this.state.searchQuery) {\n      return;\n    }\n\n    this.setState({ isLoaderOn: true });\n    await this.searchApi()\n      .then((data) => {\n        this.setState({ images: data, searchPage: 1 });\n      })\n      .catch((error) => {\n        toast.error(`${error.message}`, {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        });\n      });\n\n    this.setState({ isLoaderOn: false });\n  };\n\n  loadMoreBtn = async () => {\n    await this.setState((prevState) => ({\n      searchPage: prevState.searchPage + 1,\n    }));\n\n    this.setState({ isLoaderOn: true });\n\n    await this.searchApi().then((data) =>\n      this.setState((prevState) => ({\n        images: [...prevState.images, ...data],\n      }))\n    );\n\n    this.setState({ isLoaderOn: false });\n  };\n\n  searchApi() {\n    return axios\n      .get(\n        `${BASE_URL}?image_type=photo&orientation=horizontal&q=${this.state.searchQuery}&page=${this.state.searchPage}&per_page=12&key=${API_KEY}`\n      )\n      .then((response) => {\n        if (response.data.hits.length > 0) {\n          return response.data.hits;\n        }\n\n        return Promise.reject(new Error(\"No match found\"));\n      });\n  }\n\n  inputChange = ({ target }) => {\n    const { value } = target;\n\n    this.setState({ searchQuery: value });\n  };\n\n  openModal = async ({ target }) => {\n    if (target.nodeName !== \"IMG\") {\n      return;\n    }\n\n    await this.setState({ modalImage: target.dataset.image });\n    this.toggleModal();\n  };\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  toggleModal = () => {\n    this.setState((prevState) => ({ isModalOpen: !prevState.isModalOpen }));\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar\n          onSubmit={this.searchSubmit}\n          value={this.searchQuery}\n          onChange={this.inputChange}\n        />\n\n        <ImageGallery onClick={this.openModal}>\n          <ImageGalleryItem images={this.state.images} />\n        </ImageGallery>\n\n        {this.state.isLoaderOn && (\n          <Loader type=\"Oval\" color=\"#3f51b5\" height={40} width={40} />\n        )}\n\n        {this.state.images.length > 0 && !this.state.isLoaderOn && (\n          <Button onClick={this.loadMoreBtn} />\n        )}\n\n        {this.state.isModalOpen && (\n          <Modal image={this.state.modalImage} onClose={this.closeModal}>\n            <img src={this.props.image} alt=\"Modal IMG\" />\n          </Modal>\n        )}\n\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={5000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}